{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/the-goodreads-api-in-a-custom-function/",
    "result": {"data":{"site":{"siteMetadata":{"title":"jordan rhea","siteUrl":"https://jordanrhea.com"}},"markdownRemark":{"id":"8235098f-0aea-52e9-ae85-2efd6475d75f","excerpt":"Do you ever keep lists of books for your students on Goodreads? In this video I am showing how we can write a custom function to get data straight from the…","html":"<h2>Do you ever keep lists of books for your students on Goodreads? In this video I am showing how we can write a custom function to get data straight from the Goodreads API into a spreadsheet.</h2>\n<p>​<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube.com/embed/x4TMk7otZWI\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div></iframe></p>\n<p>There are tons of things you can do with custom functions. I have made several videos demonstrating some of those things.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token constant\">GETAUTHOR</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  book <span class=\"token operator\">=</span> <span class=\"token function\">encodeURIComponent</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'https://www.goodreads.com/search/index.xml?key=0VWQwPpAjauc0yyC4GFwdg&amp;q='</span> <span class=\"token operator\">+</span> book<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> response <span class=\"token operator\">=</span> UrlFetchApp<span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getContentText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> xml <span class=\"token operator\">=</span> XmlService<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> root <span class=\"token operator\">=</span> xml<span class=\"token punctuation\">.</span><span class=\"token function\">getRootElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> author <span class=\"token operator\">=</span> root\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'search'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'results'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'work'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'best_book'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'author'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> author<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Check out my video about how you can use autocompleting to make your custom functions more accessible to collaborators.</p>","frontmatter":{"title":"The Goodreads API in a Custom Function","date":null,"description":null,"image":{"publicURL":"/static/6110a4af94e04343f3bffb360b968324/maxresdefault.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#285818","images":{"fallback":{"src":"/static/6110a4af94e04343f3bffb360b968324/4a49b/maxresdefault.jpg","srcSet":"/static/6110a4af94e04343f3bffb360b968324/b4dad/maxresdefault.jpg 320w,\n/static/6110a4af94e04343f3bffb360b968324/3440d/maxresdefault.jpg 640w,\n/static/6110a4af94e04343f3bffb360b968324/4a49b/maxresdefault.jpg 1280w","sizes":"(min-width: 1280px) 1280px, 100vw"},"sources":[{"srcSet":"/static/6110a4af94e04343f3bffb360b968324/c0bcc/maxresdefault.webp 320w,\n/static/6110a4af94e04343f3bffb360b968324/17574/maxresdefault.webp 640w,\n/static/6110a4af94e04343f3bffb360b968324/71d4d/maxresdefault.webp 1280w","type":"image/webp","sizes":"(min-width: 1280px) 1280px, 100vw"}]},"width":1280,"height":720}}}},"fields":{"date":"Sun Sep 17 2017 08:00:00 GMT+0800 (China Standard Time)","thumbnail":"x4TMk7otZWI","slug":"the-goodreads-api-in-a-custom-function/"}},"previous":{"fields":{"slug":"return-json-with-contentservice/"},"frontmatter":{"title":"Return JSON with ContentService"}},"next":{"fields":{"slug":"use-codepen-to-layout-your-html-and-css/"},"frontmatter":{"title":"Use Codepen to Layout your HTML and CSS"}}},"pageContext":{"id":"8235098f-0aea-52e9-ae85-2efd6475d75f","previousPostId":"25ac8be8-dba2-5f3d-9cec-256be88b4887","nextPostId":"fb26a4f0-a7d0-5611-8d8e-61fdd18a3197"}},
    "staticQueryHashes": ["1324386404","1767767760"]}