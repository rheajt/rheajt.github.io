{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/the-goodreads-api-in-a-custom-function/",
    "result": {"data":{"site":{"siteMetadata":{"title":"jordan rhea"}},"markdownRemark":{"id":"8235098f-0aea-52e9-ae85-2efd6475d75f","excerpt":"Do you ever keep lists of books for your students on Goodreads? In this video I am showing how we can write a custom function to get data straight from the…","html":"<h2>Do you ever keep lists of books for your students on Goodreads? In this video I am showing how we can write a custom function to get data straight from the Goodreads API into a spreadsheet.</h2>\n<p>​<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube.com/embed/x4TMk7otZWI\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div></iframe></p>\n<p>There are tons of things you can do with custom functions. I have made several videos demonstrating some of those things.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token constant\">GETAUTHOR</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  book <span class=\"token operator\">=</span> <span class=\"token function\">encodeURIComponent</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> <span class=\"token string\">'https://www.goodreads.com/search/index.xml?key=0VWQwPpAjauc0yyC4GFwdg&amp;q='</span> <span class=\"token operator\">+</span> book<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> response <span class=\"token operator\">=</span> UrlFetchApp<span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getContentText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> xml <span class=\"token operator\">=</span> XmlService<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> root <span class=\"token operator\">=</span> xml<span class=\"token punctuation\">.</span><span class=\"token function\">getRootElement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> author <span class=\"token operator\">=</span> root\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'search'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'results'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'work'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'best_book'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'author'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> author<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Check out my video about how you can use autocompleting to make your custom functions more accessible to collaborators.</p>","frontmatter":{"title":"The Goodreads API in a Custom Function","date":null,"description":null},"fields":{"date":"Sun Sep 17 2017 08:00:00 GMT+0800 (China Standard Time)"}},"previous":{"fields":{"slug":"instant-feedback/"},"frontmatter":{"title":"Instant Feedback"}},"next":{"fields":{"slug":"html-templating/"},"frontmatter":{"title":"HTML Templating"}}},"pageContext":{"id":"8235098f-0aea-52e9-ae85-2efd6475d75f","previousPostId":"91528cd6-7b77-58d7-a745-4c926a88f8f6","nextPostId":"a9288e86-55e4-5168-b663-339b1dc83f0c"}},
    "staticQueryHashes": ["2841359383","4144781314"]}