{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/the-revised-julian-calendar/",
    "result": {"data":{"site":{"siteMetadata":{"title":"jordan rhea","siteUrl":"https://jordanrhea.com"}},"markdownRemark":{"id":"5f97fc04-ad32-52bb-a2cb-73ba3c5ffd31","excerpt":"Project originally posted on reddit.com/r/dailyprogrammer Background The Revised Julian Calendar is a calendar system very similar to the familiar Gregorianâ€¦","html":"<p><a href=\"https://www.reddit.com/r/dailyprogrammer/comments/b0nuoh/20190313_challenge_376_intermediate_the_revised/\">Project originally posted on reddit.com/r/dailyprogrammer</a></p>\n<h1>Background</h1>\n<p><a href=\"https://www.timeanddate.com/calendar/revised-julian-calendar.html\">The Revised Julian Calendar</a> is a calendar system very similar to the familiar Gregorian Calendar, but slightly more accurate in terms of average year length. The Revised Julian Calendar has a leap day on Feb 29th of leap years as follows:</p>\n<ul>\n<li>Years that are evenly divisible by 4 are leap years.</li>\n<li>Exception: Years that are evenly divisible by 100 are not leap years.</li>\n<li>Exception to the exception: Years for which the remainder when divided by 900 is either 200 or 600 are leap years.</li>\n</ul>\n<p>For instance, 2000 is an exception to the exception: the remainder when dividing 2000 by 900 is 200. So 2000 is a leap year in the Revised Julian Calendar.</p>\n<h1>Challenge</h1>\n<p>Given two positive year numbers (with the second one greater than or equal to the first), find out how many leap days (Feb 29ths) appear between Jan 1 of the first year, and Jan 1 of the second year in the Revised Julian Calendar. This is equivalent to asking how many leap years there are in the interval between the two years, including the first but excluding the second.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">leaps(2016, 2017) =&amp;gt; 1\nleaps(2019, 2020) =&amp;gt; 0\nleaps(1900, 1901) =&amp;gt; 0\nleaps(2000, 2001) =&amp;gt; 1\nleaps(2800, 2801) =&amp;gt; 0\nleaps(123456, 123456) =&amp;gt; 0\nleaps(1234, 5678) =&amp;gt; 1077\nleaps(123456, 7891011) =&amp;gt; 1881475</code></pre></div>\n<p>For this challenge, you must handle very large years efficiently, much faster than checking each year in the range.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">leaps(123456789101112, 1314151617181920) =&amp;gt; 288412747246240</code></pre></div>\n<h2>Solution</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">year1<span class=\"token punctuation\">,</span> year2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> year1<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> year2<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> rule1 <span class=\"token operator\">=</span> i <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> rule2 <span class=\"token operator\">=</span> i <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">false</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> rule3 <span class=\"token operator\">=</span> i <span class=\"token operator\">%</span> <span class=\"token number\">900</span> <span class=\"token operator\">===</span> <span class=\"token number\">200</span> <span class=\"token operator\">||</span> i <span class=\"token operator\">%</span> <span class=\"token number\">900</span> <span class=\"token operator\">===</span> <span class=\"token number\">600</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rule1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rule2<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rule3<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> count<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Tests</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'leap years'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should find the leap years'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">2016</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2017</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">2019</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2020</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">1900</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1901</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2001</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">2800</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2801</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">123456</span><span class=\"token punctuation\">,</span> <span class=\"token number\">123456</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">1234</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5678</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">1077</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">leaps</span><span class=\"token punctuation\">(</span><span class=\"token number\">123456</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7891011</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token number\">1881475</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"The Revised Julian Calendar","date":null,"description":null,"image":{"publicURL":"/static/86e06f04992fe5af4a5eb3bd9575ef84/code3.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/86e06f04992fe5af4a5eb3bd9575ef84/9d177/code3.jpg","srcSet":"/static/86e06f04992fe5af4a5eb3bd9575ef84/a3574/code3.jpg 1440w,\n/static/86e06f04992fe5af4a5eb3bd9575ef84/7ad6c/code3.jpg 2880w,\n/static/86e06f04992fe5af4a5eb3bd9575ef84/9d177/code3.jpg 5759w","sizes":"(min-width: 5759px) 5759px, 100vw"},"sources":[{"srcSet":"/static/86e06f04992fe5af4a5eb3bd9575ef84/acb19/code3.webp 1440w,\n/static/86e06f04992fe5af4a5eb3bd9575ef84/b0d87/code3.webp 2880w,\n/static/86e06f04992fe5af4a5eb3bd9575ef84/c2833/code3.webp 5759w","type":"image/webp","sizes":"(min-width: 5759px) 5759px, 100vw"}]},"width":5759,"height":1513}}}},"fields":{"date":"Thu Jun 06 2019 08:00:00 GMT+0800 (China Standard Time)","thumbnail":"","slug":"the-revised-julian-calendar/"}},"previous":{"fields":{"slug":"print-a-new-number-by-adding-one-to-each-of-its-digit/"},"frontmatter":{"title":"Print a new number by adding one to each of its digit"}},"next":{"fields":{"slug":"the-havel-hakimi-algorithm-for-graph-realization/"},"frontmatter":{"title":"The Havel-Hakimi algorithm for graph realization"}}},"pageContext":{"id":"5f97fc04-ad32-52bb-a2cb-73ba3c5ffd31","previousPostId":"4cc94790-8daa-5048-bac6-7ae86395455e","nextPostId":"69ac0e04-b6f0-552e-a98b-6090214ba3c2"}},
    "staticQueryHashes": ["1324386404","1767767760"]}