{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/contact-form/",
    "result": {"data":{"site":{"siteMetadata":{"title":"jordan rhea","siteUrl":"https://jordanrhea.com"}},"markdownRemark":{"id":"6f5bce4d-afa4-51e3-8dc4-f0db537e60b2","excerpt":"Create a contact form on your website hosted on a static site. ​ When you have a cheap shared server package from one of the giant hosting services, it can be…","html":"<p>Create a contact form on your website hosted on a static site.</p>\n<p>​<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube.com/embed/2Vx00MAmhbs\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div></iframe></p>\n<p>When you have a cheap shared server package from one of the giant hosting services, it can be hard to build a website that don’t involve giant Wordpress add-ons.</p>\n<p>There are more efficient ways to do these things! One of those ways is a contact form to get feedback from your users, just like the contact form on my page!</p>\n<p data-height=\"265\" data-theme-id=\"0\" data-slug-hash=\"prGjdV\" data-default-tab=\"html,result\" data-user=\"rheajt\" data-embed-version=\"2\" data-pen-title=\"Contact Form\" data-preview=\"true\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/rheajt/pen/prGjdV/\">Contact Form</a> by jordan rhea (<a href=\"https://codepen.io/rheajt\">@rheajt</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n<p>You just need to create a script on your drive and deploy it as a web app. You want to make sure that you <code class=\"language-text\">Execute the app as yourself</code> and make it accessible by <code class=\"language-text\">Anyone, even anonymous</code>. Then just use the code below. Be sure to put in your own data!</p>\n<p>Code.gs</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> json <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>postData<span class=\"token punctuation\">.</span>contents<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> response <span class=\"token operator\">=</span> <span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> json<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n    email<span class=\"token operator\">:</span> json<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n    subject<span class=\"token operator\">:</span> json<span class=\"token punctuation\">.</span>subject<span class=\"token punctuation\">,</span>\n    body<span class=\"token operator\">:</span> json<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> ContentService<span class=\"token punctuation\">.</span><span class=\"token function\">createTextOutput</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setMimeType</span><span class=\"token punctuation\">(</span>\n    ContentService<span class=\"token punctuation\">.</span>MimeType<span class=\"token punctuation\">.</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> html <span class=\"token operator\">=</span> HtmlService<span class=\"token punctuation\">.</span><span class=\"token function\">createTemplateFromFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'email'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    html<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n    html<span class=\"token punctuation\">.</span>email <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">;</span>\n    html<span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>subject<span class=\"token punctuation\">;</span>\n    html<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//This should probably be changed to the MailApp service now</span>\n    GmailApp<span class=\"token punctuation\">.</span><span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;&lt;YOUR EMAIL ADDRESS>>'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>subject <span class=\"token operator\">+</span> <span class=\"token string\">'[CONTACT FORM]'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">'Contact Form'</span><span class=\"token punctuation\">,</span>\n      replyTo<span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n      htmlBody<span class=\"token operator\">:</span> html<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      code<span class=\"token operator\">:</span> <span class=\"token string\">'success'</span><span class=\"token punctuation\">,</span>\n      msg<span class=\"token operator\">:</span> <span class=\"token string\">\"Thanks for contacting me! I can't wait to talk about #EdTech with you!\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      code<span class=\"token operator\">:</span> <span class=\"token string\">'danger'</span><span class=\"token punctuation\">,</span>\n      msg<span class=\"token operator\">:</span> <span class=\"token string\">'Something went wrong! Technology is not always pretty!'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>email.html</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>base</span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_top<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h3</span><span class=\"token punctuation\">></span></span>\n      You are being contacted from your website by <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span><span class=\"token prolog\">&lt;?= name ?></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span> at <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span><span class=\"token prolog\">&lt;?= email ?></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h3</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n      Time sent:\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span>\n        <span class=\"token punctuation\">></span></span><span class=\"token prolog\">&lt;?= new Date().toDateString() ?></span>\n        at\n        <span class=\"token prolog\">&lt;?= new Date().toTimeString() ?></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span>\n      <span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n      Subject: <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span><span class=\"token prolog\">&lt;?= subject ?></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token prolog\">&lt;?= body ?></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>","frontmatter":{"title":"Contact Form","date":null,"description":null,"image":{"childImageSharp":{"fixed":{"src":"/static/c34f7fbf5769ff44c7eff18b0b389062/437f5/maxresdefault.jpg"}}}},"fields":{"date":"Fri Sep 15 2017 08:00:00 GMT+0800 (China Standard Time)","thumbnail":"2Vx00MAmhbs"}},"previous":{"fields":{"slug":"wonder-wall-display/"},"frontmatter":{"title":"Wonder Wall Display"}},"next":{"fields":{"slug":"html-templating/"},"frontmatter":{"title":"HTML Templating"}}},"pageContext":{"id":"6f5bce4d-afa4-51e3-8dc4-f0db537e60b2","previousPostId":"c0734fec-095c-575b-8a2e-3d718ee27481","nextPostId":"a9288e86-55e4-5168-b663-339b1dc83f0c"}},
    "staticQueryHashes": ["1324386404","4144781314"]}